!function(t){"use strict";t(document).ready(function(){t(".gdlr-core-page-option-content").each(function(){var i=t(this).siblings(".gdlr-core-page-option-value"),a=new gdlrCoreHtmlOption(t(this));t("#post-preview, #publish, #save-post").click(function(){i.val(JSON.stringify(a.get_val()))});var e=t(this).find("#gdlr-core-page-option-tab-head"),n=t(this).find("#gdlr-core-page-option-tab-content");e.children(".gdlr-core-page-option-tab-head-item").click(function(){if(!t(this).hasClass("gdlr-core-active")){var i=t(this).attr("data-tab-slug");t(this).addClass("gdlr-core-active").siblings().removeClass("gdlr-core-active"),n.find('[data-tab-slug="'+i+'"]').fadeIn(200).siblings().css("display","none")}})})})}(jQuery),function(t){"use strict";function i(){if("undefined"!=typeof tinymce){window.gdlr_core_tmce_id_removed;for(var i=1;i<window.gdlr_core_tmce_id;i++){var a="gdlr_core_tmce"+i,e=tinymce.get(a);e&&0==t("#wp-"+a+"-wrap").length&&e.remove()}}}function a(a){if("undefined"!=typeof gdlr_core_tmce){void 0===window.gdlr_core_tmce_id?window.gdlr_core_tmce_id=1:window.gdlr_core_tmce_id++,i();var e="gdlr_core_tmce"+window.gdlr_core_tmce_id;a.attr("data-tmce-id",e);var n=t(gdlr_core_tmce.replace(/gdlr_core_tmce/g,e));n.insertAfter(a);var o=a.html();if(o.length>0&&(n.hasClass("tmce-active")?n.find("textarea").val(o):n.hasClass("html-active")&&n.find("textarea").val(window.switchEditors._wp_Nop(o))),"undefined"!=typeof tinymce){var l=JSON.parse(JSON.stringify(tinyMCEPreInit.mceInit.gdlr_core_tmce));l.selector="#"+e,l.body_class=l.body_class.replace(/gdlr_core_tmce/g,e),l.setup=function(i){i.on("change",function(i){t(i.target.targetElm).trigger("gdlr_core_change")})};var s=tinymce.$("#wp-"+e+"-wrap");!s.hasClass("tmce-active")&&tinyMCEPreInit.qtInit.hasOwnProperty(e)||l.wp_skip_init||(s.hasClass("html-active")&&s.removeClass("html-active").addClass("tmce-active"),tinymce.init(l))}if("undefined"!=typeof quicktags){var d=JSON.parse(JSON.stringify(tinyMCEPreInit.qtInit.gdlr_core_tmce));d.id=e,quicktags(d),QTags._buttonsInit()}}}function e(i){if("undefined"!=typeof tinymce){var a=i.attr("data-tmce-id");if(tinymce.$("#wp-"+a+"-wrap").hasClass("tmce-active"))return tinymce.get(a).getContent();if(tinymce.$("#wp-"+a+"-wrap").hasClass("html-active"))return window.switchEditors._wp_Autop(t("#"+a).val())}return""}window.gdlrCoreHtmlOption=function(i){this.container=t(i),this.init()},gdlrCoreHtmlOption.prototype={init:function(){this.bind_input_format(),this.bind_image_uploader(),this.bind_font_picker(),this.bind_icon_selector(),this.bind_conditional(),this.rebind()},rebind:function(){var i=this;i.container.find(".gdlr-core-html-option-colorpicker").wpColorPicker(),i.init_conditional(),i.bind_tinymce(),i.bind_font_slider(),i.bind_import(),i.bind_export(),i.bind_datepicker(),i.container.find('[data-type="custom"]').each(function(){var i=t(this).children(".gdlr-core-html-option-custom-value").data("value"),a=t(this).children(".gdlr-core-html-option-custom-options").data("value");i&&t(this).data("value",i),a&&t(this).data("options",a),t(this).is('[data-item-type="skin-settings"]')?new o(t(this)):t(this).is('[data-item-type="fontupload"]')?new c(t(this)):t(this).is('[data-item-type="thumbnail-sizing"]')?new r(t(this)):t(this).is('[data-item-type="tabs"]')?new d(t(this)):t(this).is('[data-item-type="gallery"]')?new l(t(this)):t(this).is('[data-item-type="padding"]')?new n(t(this)):t(this).is('[data-item-type="key-value"]')&&new s(t(this))})},get_val:function(){var i={};return this.container.find("[data-slug]").each(function(){var a=t(this).attr("data-slug"),n=t(this).attr("data-type");"text"==n||"textarea"==n||"combobox"==n||"upload"==n||"colorpicker"==n||"font"==n||"multi-combobox"==n?i[a]=t(this).val():"checkbox"==n?i[a]=t(this).is(":checked")?"enable":"disable":"radioimage"==n?t(this).is(":checked")&&(i[a]=t(this).val()):"tinymce"==n?i[a]=e(t(this)):"custom"==n&&(i[a]=t(this).data("value"))}),i},init_conditional:function(){this.container.find("[data-condition]").each(function(){var i=t(this).closest(".gdlr-core-html-option-item").parent(),a=JSON.parse(t(this).attr("data-condition")),e=!0;for(var n in a){var o=i.find('[data-slug="'+n+'"]'),l="";l=o.is('input[type="checkbox"]')?o.is(":checked")?"enable":"disable":o.is('input[type="radio"]')?o.filter(":checked").val():o.val(),e=e&&(l==a[n]||a[n].constructor===Array&&-1!=a[n].indexOf(l))}e?t(this).show():t(this).hide()})},bind_conditional:function(){this.container.on("change",'select, input[type="checkbox"], input[type="radio"]',function(){var i=t(this).closest(".gdlr-core-html-option-item").parent();i.children("[data-condition]").each(function(){var a=JSON.parse(t(this).attr("data-condition")),e=!0;for(var n in a){var o=i.find('[data-slug="'+n+'"]'),l="";l=o.is('input[type="checkbox"]')?o.is(":checked")?"enable":"disable":o.is('input[type="radio"]')?o.filter(":checked").val():o.val(),e=e&&(l==a[n]||a[n].constructor===Array&&-1!=a[n].indexOf(l))}e?t(this).slideDown(200):t(this).slideUp(200)})})},bind_input_format:function(){this.container.on("change","input[data-input-type]",function(){var i=t(this).val(),a=i.match(/^-?\d+/g),e="";"pixel"==t(this).attr("data-input-type")&&(e=i.length>0&&"%"==i.charAt(i.length-1)?"%":"px"),void 0!==a&&null!=a&&t(this).val(parseInt(a[0])+e),t(this).trigger("gdlr_core_change")}),this.container.on("keydown","input[data-input-type]",function(i){var a=i.keyCode?i.keyCode:i.which;if(40==a||38==a){var e=t(this).val().match(/^-?\d+/g),n="";"pixel"==t(this).attr("data-input-type")&&(n="px"),void 0!==e&&null!=e&&(40==a?t(this).val(parseInt(e[0])-1+n):38==a&&t(this).val(parseInt(e[0])+1+n),t(this).trigger("gdlr_core_change"))}})},bind_image_uploader:function(){this.container.on("click",".gdlr-core-upload-image-button",function(){var i=t(this).closest(".gdlr-core-html-option-upload-appearance"),a=i.children(".gdlr-core-upload-image-container"),e=i.children(".gdlr-core-html-option-upload"),n=i.children(".gdlr-core-html-option-upload-image");if(t(this).hasClass("gdlr-core-upload-image-add"))var o=wp.media({title:html_option_val.text.upload_media,button:{text:html_option_val.text.choose_media},multiple:!1}).on("select",function(){var t=o.state().get("selection").first().toJSON();i.addClass("gdlr-core-active"),a.css("background-image","url("+t.url+")"),e.val(t.id),n.val(t.url),e.trigger("change")}).open();else t(this).hasClass("gdlr-core-upload-image-remove")&&(i.removeClass("gdlr-core-active"),a.css("background-image",""),e.val(""),n.val(""),e.trigger("change"))})},bind_datepicker:function(){this.container.find(".gdlr-core-html-option-datepicker").each(function(){t(this).datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0})})},bind_font_slider:function(){this.container.find(".gdlr-core-html-option-fontslider").each(function(){var i=t(this),a=t('<div class="gdlr-core-html-option-fontslider-appearance" ></div>'),e=t(this).attr("data-min-value")?parseInt(t(this).attr("data-min-value")):6,n=t(this).attr("data-max-value")?parseInt(t(this).attr("data-max-value")):160,o=t(this).attr("data-suffix")?t(this).attr("data-suffix"):"px";"none"==o&&(o=""),a.insertBefore(t(this)),a.slider({range:"min",min:e,max:n,value:parseInt(i.val()),slide:function(t,a){i.val(a.value+o)}}),i.val(parseInt(i.val())+o),t(this).on("input change",function(){a.slider("value",parseInt(i.val()))})})},bind_import:function(){this.container.find(".gdlr-core-html-option-import").each(function(){var i=t(this).find("form"),a=t(this).find(".gdlr-core-html-option-import-file");t(this).find(".gdlr-core-html-option-import-button").click(function(){return a.val().length>0?gdlr_core_confirm_box({success:function(){i.submit()}}):gdlr_core_alert_box({status:"failed",head:"File not found",message:"Please select the file before importing"}),!1})})},bind_export:function(){this.container.find(".gdlr-core-html-option-export").each(function(){var i=t(this),a=i.find(".gdlr-core-html-option-export-button");a.click(function(){var e={action:i.attr("data-action"),security:html_option_val.text.nonce};i.find(".gdlr-core-html-option-export-option").each(function(){e.options=t(this).val()}),t.ajax({type:"POST",url:html_option_val.text.ajaxurl,data:e,dataType:"json",beforeSend:function(t,i){a.addClass("gdlr-core-now-loading")},error:function(t,i,a){gdlr_core_alert_box({status:"failed",head:html_option_val.text.error_head,message:html_option_val.text.error_message}),console.log(t,i,a)},success:function(t){a.removeClass("gdlr-core-now-loading"),"success"==t.status?gdlr_core_download_file(t.url,t.filename):"success-2"==t.status?gdlr_core_download_content(t.content,t.filename):"failed"==t.status&&gdlr_core_alert_box({status:t.status,head:t.head,message:t.message})}})})})},bind_icon_selector:function(){this.container.on("change",".gdlr-core-html-option-icons-type-select",function(){var i=t(this).val();t(this).parent().siblings(".gdlr-core-html-option-icons-type-wrapper").children('[data-icon-type="'+i+'"]').fadeIn(200).addClass("gdlr-core-active").each(function(){t(this).children("i").css({display:"inline-block"})}).siblings().css({display:"none"}).removeClass("gdlr-core-active"),t(this).parent().siblings(".gdlr-core-html-option-icons-search").val(""),"none"==i?(t(this).parent().siblings(".gdlr-core-html-option-icons-search, .gdlr-core-html-option-icons-type-wrapper").slideUp(200),t(this).parent().siblings("[data-slug]").val("")):(t(this).parent().siblings(".gdlr-core-html-option-icons-search, .gdlr-core-html-option-icons-type-wrapper").slideDown(200),t(this).parent().siblings(".gdlr-core-html-option-icons-type-wrapper").slideDown(200).children(".gdlr-core-active").children(".gdlr-core-active").trigger("click"))}),this.container.on("input",".gdlr-core-html-option-icons-search",gdlr_core_debounce(function(){var i=t(this).val();i?t(this).siblings(".gdlr-core-html-option-icons-type-wrapper").children(".gdlr-core-active").children().css({display:"inline-block"}).not('[class*="'+i+'"]').css({display:"none"}):t(this).siblings(".gdlr-core-html-option-icons-type-wrapper").children(".gdlr-core-active").children().css({display:"inline-block"})},500)),this.container.on("click",".gdlr-core-html-option-icons-type-wrapper i",function(){var i=t(this).closest(".gdlr-core-html-option-icons-type-wrapper");i.find("i").removeClass("gdlr-core-active"),i.siblings("[data-slug]").val(t(this).attr("class")),t(this).addClass("gdlr-core-active")})},bind_font_picker:function(){this.container.on("change",".gdlr-core-html-option-font",function(){var i=t(this).parent(".gdlr-core-custom-combobox").siblings(".gdlr-core-html-option-font-display"),a=i.attr("data-base-url")+"&font-family="+t(this).val();i.attr("src",a)})},bind_tinymce:function(){"undefined"!=typeof html_option_val&&this.container.find(".gdlr-core-html-option-tinymce").each(function(){a(t(this))})}};var n=function(t){this.container=t,this.values=t.data("value"),this.options=t.data("options"),this.init()};n.prototype={init:function(){var i=this,a=t('<div class="gdlr-core-html-option-padding" ></div>'),e=!i.container.closest(".gdlr-core-html-option-item").hasClass("gdlr-core-no-link");void 0!==i.options&&0!=i.options.length||(i.options=["top","right","bottom","left"]);for(var n in i.options){var o=t('<input class="gdlr-core-html-option-padding-input" />').attr("data-padding-slug",i.options[n]);this.container.attr("data-input-type")&&o.attr("data-input-type",this.container.attr("data-input-type")),void 0!==i.values&&void 0!==i.values[i.options[n]]&&o.val(i.values[i.options[n]]),a.append(t('<div class="gdlr-core-html-option-padding-item" ></div>').append(o).append("<span>"+i.options[n]+"</span>"))}if(e){var l="link";void 0!==i.values&&void 0!==i.values.settings&&(l=i.values.settings);var s=t('<div class="gdlr-core-html-option-padding-settings" >\t\t\t\t\t\t<i class="fa fa-link" data-padding-type="link" ></i><i class="fa fa-unlink" data-padding-type="unlink" ></i>\t\t\t\t\t\t<input type="hidden" value="'+l+'" data-padding-slug="settings" />\t\t\t\t\t</div>');s.find('[data-padding-type="'+l+'"]').addClass("gdlr-core-active"),s.find("[data-padding-type]").click(function(){t(this).hasClass("gdlr-core-active")||(l=t(this).attr("data-padding-type"),t(this).addClass("gdlr-core-active").siblings("[data-padding-type]").removeClass("gdlr-core-active"),t(this).siblings("[data-padding-slug]").val(l),i.update_data())}),a.append(s)}a.on("input change gdlr_core_change","input",function(a){"link"==l&&t(this).closest(".gdlr-core-html-option-padding-item").siblings(".gdlr-core-html-option-padding-item").find(" [data-padding-slug]").val(t(this).val()),i.update_data()}),i.container.append(a)},update_data:function(){var i=this;i.values={},i.container.find("[data-padding-slug]").each(function(){i.values[t(this).attr("data-padding-slug")]=t(this).val()}),i.container.data("value",i.values)}};var o=function(i){this.container=i,this.values=i.data("value"),this.input_name=t('<input class="gdlr-core-html-option-text" placeholder="'+html_option_val.skin.input+'" />'),this.input_submit=t('<div class="gdlr-core-html-option-skin-input-add" ></div>'),this.skin_container=t('<div class="gdlr-core-html-option-skin-container clearfix" ></div>'),this.template=t('<div class="gdlr-core-html-option-skin-template" >\t\t\t\t<div class="gdlr-core-html-option-skin-head" >\t\t\t\t\t<input type="hidden" data-skin-slug="name" >\t\t\t\t\t<div class="gdlr-core-html-option-skin-name" ></div>\t\t\t\t\t<div class="gdlr-core-html-option-skin-remove" ></div>\t\t\t\t</div>\t\t\t</div>');var a=i.data("options"),e=t('<div class="gdlr-core-html-option-skin-item" ></div>').appendTo(this.template);for(var n in a)void 0!==a[n].type&&"title"==a[n].type?e.append(t('<div class="gdlr-core-html-option-skin-item-section-title" ></div>').append(a[n].title)):e.append(t('<div class="gdlr-core-html-option-skin-item-content"></div>').append(t('<div class="gdlr-core-html-option-skin-item-title" ></div>').append(a[n].title)).append(t('<input type="text" class="gdlr-core-html-option-skin-item-color" />').attr({"data-skin-slug":n,"data-default":a[n].default}).val(a[n].default)));this.init()};o.prototype={init:function(){var i=this;t('<div class="gdlr-core-html-option-skin-input-wrapper clearfix" ></div>').append(t('<div class="gdlr-core-html-option-skin-input" >').append(i.input_name).append(i.input_submit)).append(t('<div class="gdlr-core-html-option-item-description" ></div>').html(html_option_val.skin.description)).appendTo(i.container),i.container.append(i.skin_container);for(var a in i.values)i.skin_container.append(i.get_template(i.values[a]));i.bind_submit(),i.bind_head_button()},bind_submit:function(){var t=this;t.input_submit.click(function(){var i=t.input_name.val();if(i.length>0){for(var a in t.values)if(t.values[a].name==i)return void gdlr_core_alert_box({status:"failed",message:html_option_val.skin.duplicate_input,duration:2500});t.input_name.val(""),t.create_skin(i)}else gdlr_core_alert_box({status:"failed",message:html_option_val.skin.empty_input,duration:2e3})})},bind_head_button:function(){var i=this;i.container.on("click",".gdlr-core-html-option-skin-remove",function(){var a=t(this);return gdlr_core_confirm_box({success:function(){a.closest(".gdlr-core-html-option-skin-template").slideUp(200,function(){t(this).remove(),i.update_data()})}}),!1}),i.container.on("click",".gdlr-core-html-option-skin-head",function(){t(this).closest(".gdlr-core-html-option-skin-head").siblings(".gdlr-core-html-option-skin-item").slideToggle(200)})},create_skin:function(t){var i=this,a=i.get_template({name:t});i.skin_container.append(a),a.find(".gdlr-core-html-option-skin-item").css({display:"block"}),a.css("display","none").slideDown(200,function(){i.update_data()})},get_template:function(t){var i=this,a=i.template.clone();for(var e in t)"name"==e?a.find('[data-skin-slug="'+e+'"]').val(t[e]).siblings(".gdlr-core-html-option-skin-name").html(t[e]):a.find('[data-skin-slug="'+e+'"]').val(t[e]);return a.find(".gdlr-core-html-option-skin-item-color").wpColorPicker({change:gdlr_core_debounce(function(t,a){i.update_data()},500)}),a},update_data:function(){var i=this;i.values=[],i.skin_container.find(".gdlr-core-html-option-skin-template").each(function(){var a={};t(this).find("[data-skin-slug]").each(function(){a[t(this).attr("data-skin-slug")]=t(this).val()}),i.values.push(a)}),i.container.data("value",i.values)}};var l=function(i){var a=this;a.container=i,a.values=i.data("value"),a.options=i.data("options"),a.gallery_container=t('<div class="gdlr-core-html-option-gallery-container" ></div>'),a.add_button=t('<div class="gdlr-core-html-option-gallery-add" ><i class="icon_plus" ></i></div>'),a.template=t('<div class="gdlr-core-html-option-gallery-template">\t\t\t\t<img class="gdlr-core-html-option-gallery-template-thumbnail" src="" alt="" /> \t\t\t\t<div class="gdlr-core-html-option-gallery-template-remove" ><i class="fa fa-remove" ></i></div>\t\t\t</div>'),a.init()};l.prototype={init:function(){var i=this;i.container.append(i.add_button).append(i.gallery_container);for(var a in i.values)i.add_template(i.values[a]);i.bind_add(),i.bind_gallery_edit(),i.gallery_container.on("click",".gdlr-core-html-option-gallery-template-remove",function(){return t(this).closest(".gdlr-core-html-option-gallery-template").fadeOut(200,function(){t(this).remove(),i.update_data()}),!1}),i.gallery_container.sortable({tolerance:"pointer",stop:function(t,a){i.update_data()}})},bind_add:function(){var t=this;t.add_button.click(function(){var i=wp.media({title:html_option_val.text.upload_media,button:{text:html_option_val.text.choose_media},multiple:"add"}).on("select",function(){var a=i.state().get("selection").toJSON();for(var e in a)void 0!==a[e].sizes.thumbnail?t.add_template({id:a[e].id,thumbnail:a[e].sizes.thumbnail.url}):t.add_template({id:a[e].id,thumbnail:a[e].sizes.full.url});t.update_data()}).open()})},bind_gallery_edit:function(){var i=this;i.gallery_container.on("click",".gdlr-core-html-option-gallery-template",function(){var a=t(this),e=t('<div class="gdlr-core-html-option-gallery-loading" ></div>');t.ajax({type:"POST",url:html_option_val.text.ajaxurl,data:{action:"gdlr_get_gallery_options",security:html_option_val.text.nonce,options:i.options,value:t(this).data("value")},dataType:"json",beforeSend:function(t,i){e.css({display:"none"}).appendTo("body"),e.fadeIn(150)},error:function(t,i,a){gdlr_core_alert_box({status:"failed",head:html_option_val.text.error_head,message:html_option_val.text.error_message}),console.log(t,i,a)},success:function(t){e.remove(),"success"==t.status?i.gallery_lb_edit(t.option_content,a):"failed"==t.status&&gdlr_core_alert_box({status:t.status,head:t.head,message:t.message})}})})},gallery_lb_edit:function(i,a){var e=this,n=t('<div class="gdlr-core-gallery-lightbox-content"></div>');t("body").append(n),n.append(i),n.css({opacity:0}).animate({opacity:1},400);var o=new gdlrCoreHtmlOption(n);n.find("#gdlr-core-gallery-lb-head-close").click(function(){n.fadeOut(200,function(){t(this).remove()})}),n.find("#gdlr-core-gallery-lb-options-save").click(function(){var i=t.extend(a.data("value"),o.get_val());a.data("value",i),e.update_data(),n.fadeOut(200,function(){t(this).remove()})})},add_template:function(t){var i=this.template.clone();i.data("value",t),i.find(".gdlr-core-html-option-gallery-template-thumbnail").attr("src",t.thumbnail),this.gallery_container.append(i)},update_data:function(){var i=this;i.values=[],i.gallery_container.find(".gdlr-core-html-option-gallery-template").each(function(){i.values.push(t(this).data("value"))}),i.container.data("value",i.values)}};var s=function(i){var a=this;a.container=i,a.values=i.data("value"),a.tab_container=t('<div class="gdlr-core-html-option-key-value-container" >'),a.add_button=t('<div class="gdlr-core-html-option-key-value-add" ></div>'),a.item_template=t('<div class="gdlr-core-html-option-key-value-template" >\t\t\t\t<div class="gdlr-core-html-option-key-value-wrap clearfix" >\t\t\t\t\t<div class="gdlr-core-html-option-key-value-first">\t\t\t\t\t\t<input type="text" class="gdlr-core-html-option-key-value-key" data-key-value-slug="key" placeholder="Key" />\t\t\t\t\t</div>\t\t\t\t\t<div class="gdlr-core-html-option-key-value-second">\t\t\t\t\t\t<input type="text" class="gdlr-core-html-option-key-value-value" data-key-value-slug="value" placeholder="Value" />\t\t\t\t\t</div>\t\t\t\t\t<div class="gdlr-core-html-option-key-value-remove"></div>\t\t\t\t</div>\t\t\t</div>'),a.init()};s.prototype={init:function(){var i=this;if(i.container.append(i.tab_container),i.container.closest(".gdlr-core-html-option-item-input").siblings(".gdlr-core-html-option-item-title").append(i.add_button),i.bind_add(),i.values&&i.values.length>0)for(var a in i.values)i.tab_container.append(i.get_template(i.values[a]));i.tab_container.sortable({tolerance:"pointer",stop:function(t,a){i.update_data()}}),i.container.on("click",".gdlr-core-html-option-key-value-remove",function(){t(this).closest(".gdlr-core-html-option-key-value-template").slideUp(200,function(){t(this).remove(),i.update_data()})}),i.container.on("input change",'input[type="text"]',gdlr_core_debounce(function(){i.update_data()},500))},bind_add:function(){var t=this;t.add_button.click(function(){var i=t.get_template();t.tab_container.append(i),i.css({display:"none"}).slideDown(200),t.update_data()})},get_template:function(i){var a=this.item_template.clone();for(var e in i)a.find('[data-key-value-slug="'+e+'"]').each(function(){t(this).val(i[e])});return a},update_data:function(){var i=this;i.values=[],i.tab_container.find(".gdlr-core-html-option-key-value-template").each(function(){var a={};t(this).find("[data-key-value-slug]").each(function(){a[t(this).attr("data-key-value-slug")]=t(this).val()}),i.values.push(a)}),i.container.data("value",i.values)}};var d=function(i){var a=this;a.container=i,a.values=i.data("value"),a.tabs_container=t('<div class="gdlr-core-html-option-tabs-container" ></div>'),a.add_button=t('<div class="gdlr-core-html-option-tabs-add"></div>'),a.template={text:'<div class="gdlr-core-html-option-tabs-field" >\t\t\t\t<span class="gdlr-core-html-option-tabs-input-title" ></span>\t\t\t\t<input type="text" class="gdlr-core-html-option-tabs-input gdlr-core-html-option-text" data-tabs-slug="" >\t\t\t</div>',textarea:'<div class="gdlr-core-html-option-tabs-field" >\t\t\t\t<span class="gdlr-core-html-option-tabs-input-title" ></span>\t\t\t\t<textarea class="gdlr-core-html-option-tabs-input gdlr-core-html-option-textarea" data-tabs-slug="" ></textarea>\t\t\t</div>',tmce:'<div class="gdlr-core-html-option-tabs-field" >\t\t\t\t<span class="gdlr-core-html-option-tabs-input-title" ></span>\t\t\t\t<div class="gdlr-core-html-option-tinymce" data-type="tinymce" data-tabs-slug="" ></div>\t\t\t</div>',colorpicker:'<div class="gdlr-core-html-option-tabs-field" >\t\t\t\t<span class="gdlr-core-html-option-tabs-input-title" ></span>\t\t\t\t<input type="text" class="gdlr-core-html-option-tabs-colorpicker gdlr-core-html-option-colorpicker" data-tabs-slug="" >\t\t\t</div>',checkbox:'<div class="gdlr-core-html-option-tabs-field" >\t\t\t\t<span class="gdlr-core-html-option-tabs-input-title" ></span>\t\t\t\t<label>\t\t\t\t\t<input type="checkbox" class="gdlr-core-html-option-checkbox" data-tabs-slug="" checked="checked">\t\t\t\t\t<div class="gdlr-core-html-option-checkbox-appearance gdlr-core-noselect">\t\t\t\t\t\t<span class="gdlr-core-checkbox-button gdlr-core-on">'+html_option_val.tabs.tab_checkbox_on+'</span>\t\t\t\t\t\t<span class="gdlr-core-checkbox-separator"></span>\t\t\t\t\t\t<span class="gdlr-core-checkbox-button gdlr-core-off">'+html_option_val.tabs.tab_checkbox_off+"</span>\t\t\t\t\t</div>\t\t\t\t</label>\t\t\t</div>",upload:'<div class="gdlr-core-html-option-tabs-field" >\t\t\t\t<span class="gdlr-core-html-option-tabs-input-title" ></span>\t\t\t\t<div class="gdlr-core-html-option-upload-appearance" >\t\t\t\t\t<input type="hidden" class="gdlr-core-html-option-upload" data-type="upload" data-tabs-slug="" />\t\t\t\t\t<input type="hidden" class="gdlr-core-html-option-upload-image" data-type="upload-img" data-tabs-slug="" />\t\t\t\t\t<div class="gdlr-core-upload-image-container" style="" ></div>\t\t\t\t\t<div class="gdlr-core-upload-image-overlay" >\t\t\t\t\t\t<div class="gdlr-core-upload-image-button-hover">\t\t\t\t\t\t\t<span class="gdlr-core-upload-image-button gdlr-core-upload-image-add"><i class="icon_plus" ></i></span>\t\t\t\t\t\t\t<span class="gdlr-core-upload-image-button gdlr-core-upload-image-remove"><i class="icon_minus-06" ></i></span>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>'},a.item_template=t('<div class="gdlr-core-html-option-tabs-template" >\t\t\t\t<div class="gdlr-core-html-option-tabs-template-title" >\t\t\t\t\t<span class="gdlr-core-head" >'+html_option_val.tabs.title_text+'</span>\t\t\t\t\t<div class="gdlr-core-html-option-tabs-remove"></div>\t\t\t\t</div>\t\t\t</div>');var e=i.data("options"),n=t('<div class="gdlr-core-html-option-tabs-template-content" ></div>');for(var o in e){var l=t(a.template[e[o].type]);l.find("[data-tabs-slug]").each(function(){void 0!==e[o]["data-input-type"]&&t(this).attr("data-input-type",e[o]["data-input-type"]),"upload-img"==t(this).attr("data-type")?t(this).attr("data-tabs-slug",o+"-img"):t(this).attr("data-tabs-slug",o)}),l.find(".gdlr-core-html-option-tabs-input-title").html(e[o].title),n.append(l)}a.item_template.append(n),a.init()};d.prototype={init:function(){var i=this;if(i.container.append(i.tabs_container),i.container.closest(".gdlr-core-html-option-item-input").siblings(".gdlr-core-html-option-item-title").append(i.add_button),i.values&&i.values.length>0){for(var e in i.values)i.tabs_container.append(i.get_template(i.values[e]));i.tabs_container.find(".gdlr-core-html-option-colorpicker").wpColorPicker({change:gdlr_core_debounce(function(t,a){i.update_data()},500)}),i.tabs_container.find(".gdlr-core-html-option-tinymce").each(function(){a(t(this))})}i.tabs_container.sortable({tolerance:"pointer",stop:function(t,a){i.update_data()}}),i.bind_add(),i.container.on("click",".gdlr-core-html-option-tabs-remove",function(){t(this).closest(".gdlr-core-html-option-tabs-template").slideUp(200,function(){t(this).remove(),i.update_data()})}),i.container.on("click",".gdlr-core-html-option-tabs-template-title",function(){t(this).siblings(".gdlr-core-html-option-tabs-template-content").slideToggle(200)}),i.container.on("input change gdlr_core_change",'input[type="text"], textarea',gdlr_core_debounce(function(){"title"==t(this).attr("data-tabs-slug")&&t(this).closest(".gdlr-core-html-option-tabs-template-content").siblings(".gdlr-core-html-option-tabs-template-title").children(".gdlr-core-head").html(t(this).val()),i.update_data()},500)),i.container.on("change",'input[type="checkbox"], input[type="hidden"], .gdlr-core-html-option-tinymce',function(){i.update_data()})},bind_add:function(){var i=this;i.add_button.click(function(){var e=i.get_template();i.tabs_container.append(e),e.find(".gdlr-core-html-option-colorpicker").wpColorPicker({change:gdlr_core_debounce(function(t,a){i.update_data()},500)}),e.find(".gdlr-core-html-option-tinymce").each(function(){a(t(this))}),e.find(".gdlr-core-html-option-tabs-template-content").css({display:"block"}),e.css({display:"none"}).slideDown(200),i.update_data()})},get_template:function(i){var a=this.item_template.clone();for(var e in i)a.find('[data-tabs-slug="'+e+'"]').each(function(){t(this).is('input[type="checkbox"]')?"enable"==i[e]?t(this).prop("checked",!0):t(this).prop("checked",!1):"upload-img"==t(this).attr("data-type")?(t(this).val(i[e]),t(this).closest(".gdlr-core-html-option-upload-appearance").addClass("gdlr-core-active"),t(this).siblings(".gdlr-core-upload-image-container").css("background-image","url("+i[e]+")")):t(this).is(".gdlr-core-html-option-tinymce")?t(this).html(i[e]):t(this).val(i[e])}),"title"==e&&a.find(".gdlr-core-html-option-tabs-template-title").children(".gdlr-core-head").html(i[e]);return a},update_data:function(){var i=this;i.values=[],i.tabs_container.find(".gdlr-core-html-option-tabs-template").each(function(){var a={};t(this).find("[data-tabs-slug]").each(function(){t(this).is('input[type="checkbox"]')?a[t(this).attr("data-tabs-slug")]=t(this).is(":checked")?"enable":"disable":t(this).is(".gdlr-core-html-option-tinymce")?a[t(this).attr("data-tabs-slug")]=e(t(this)):a[t(this).attr("data-tabs-slug")]=t(this).val()}),i.values.push(a)}),i.container.data("value",i.values)}};var r=function(i){this.container=i,this.values=i.data("value"),this.input_fields=t('<div class="gdlr-core-html-option-thumbnail-sizing-input-wrapper" >\t\t\t\t<div class="gdlr-core-html-option-thumbnail-sizing-input-name" >\t\t\t\t\t<span class="gdlr-core-html-option-thumbnail-sizing-input-title" >'+html_option_val.thumbnail_sizing.name+'</span>\t\t\t\t\t<input class="gdlr-core-html-option-thumbnail-sizing-input gdlr-core-html-option-text" data-thumbnail-sizing-slug="name" >\t\t\t\t</div>\t\t\t\t<div class="gdlr-core-html-option-thumbnail-sizing-input-options" >\t\t\t\t\t<div class="gdlr-core-html-option-thumbnail-sizing-input-width" >\t\t\t\t\t\t<span class="gdlr-core-html-option-thumbnail-sizing-input-title" >'+html_option_val.thumbnail_sizing.width+'</span>\t\t\t\t\t\t<input class="gdlr-core-html-option-thumbnail-sizing-input gdlr-core-html-option-text" data-thumbnail-sizing-slug="width" >\t\t\t\t\t</div>\t\t\t\t\t<div class="gdlr-core-html-option-thumbnail-sizing-input-height" >\t\t\t\t\t\t<span class="gdlr-core-html-option-thumbnail-sizing-input-title" >'+html_option_val.thumbnail_sizing.height+'</span>\t\t\t\t\t\t<input class="gdlr-core-html-option-thumbnail-sizing-input gdlr-core-html-option-text" data-thumbnail-sizing-slug="height" >\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>'),this.input_submit=t('<div class="gdlr-core-html-option-thumbnail-sizing-input-add" >'+html_option_val.thumbnail_sizing.add+"</div>").appendTo(this.input_fields),this.input_fields.append('<div class="gdlr-core-html-option-thumbnail-sizing-input-description" >'+html_option_val.thumbnail_sizing.description+"</div>"),this.thumbnail_sizing_container=t('<div class="gdlr-core-html-option-thumbnail-sizing-container clearfix" ></div>'),this.template=t('<div class="gdlr-core-html-option-thumbnail-sizing-template" >\t\t\t\t<input type="hidden" data-thumbnail-sizing-slug="name" >\t\t\t\t<input type="hidden" data-thumbnail-sizing-slug="width" >\t\t\t\t<input type="hidden" data-thumbnail-sizing-slug="height" >\t\t\t\t<input type="hidden" data-thumbnail-sizing-slug="hard-crop" >\t\t\t\t<div class="gdlr-core-html-option-thumbnail-sizing-name" ></div>\t\t\t\t<div class="gdlr-core-html-option-thumbnail-sizing-remove" ></div>\t\t\t</div>'),this.init()};r.prototype={init:function(){var t=this;t.container.append(t.thumbnail_sizing_container);for(var i in t.values)t.thumbnail_sizing_container.append(t.get_template(t.values[i]));t.container.append(this.input_fields),t.bind_submit(),t.bind_remove_button()},bind_submit:function(){var i=this;i.input_submit.click(function(){var a={},e=!0;i.input_fields.find("[data-thumbnail-sizing-slug]").each(function(){""!=t(this).val().trim()?"width"==t(this).attr("data-thumbnail-sizing-slug")||"height"==t(this).attr("data-thumbnail-sizing-slug")?a[t(this).attr("data-thumbnail-sizing-slug")]=parseInt(t(this).val()):a[t(this).attr("data-thumbnail-sizing-slug")]=t(this).val():e=!1}),e?i.create_option(a):gdlr_core_alert_box({status:"failed",message:html_option_val.thumbnail_sizing.empty_input,duration:2e3})})},bind_remove_button:function(){var i=this;i.container.on("click",".gdlr-core-html-option-thumbnail-sizing-remove",function(){var a=t(this);return gdlr_core_confirm_box({success:function(){a.closest(".gdlr-core-html-option-thumbnail-sizing-template").slideUp(200,function(){t(this).remove(),i.update_data()})}}),!1})},create_option:function(t){var i=this,a=i.get_template(t);i.thumbnail_sizing_container.append(a),a.css("display","none").slideDown(200,function(){i.update_data()})},get_template:function(t){var i=this.template.clone();for(var a in t)i.find('[data-thumbnail-sizing-slug="'+a+'"]').val(t[a]);return i.find(".gdlr-core-html-option-thumbnail-sizing-name").html(t.name+'<span class="gdlr-core-tail" >'+t.width+"*"+t.height+"px</span>"),i},update_data:function(){var i=this;i.values=[],i.thumbnail_sizing_container.find(".gdlr-core-html-option-thumbnail-sizing-template").each(function(){var a={};t(this).find("[data-thumbnail-sizing-slug]").each(function(){a[t(this).attr("data-thumbnail-sizing-slug")]=t(this).val()}),i.values.push(a)}),i.container.data("value",i.values)}};var c=function(i){this.container=i,this.values=i.data("value"),this.add_button=t('<div class="gdlr-core-html-option-font-upload-add"></div>'),this.font_none=t('<div class="gdlr-core-html-option-font-upload-none" ></div>').html(html_option_val.fontupload.none),this.font_container=t('<div class="gdlr-core-html-option-font-upload-container" ></div>'),this.template=t('<div class="gdlr-core-html-option-font-upload-template" >\t\t\t\t<div class="gdlr-core-html-option-font-upload-remove" ></div>\t\t\t\t<div class="gdlr-core-html-option-font-upload-field" >\t\t\t\t\t<div class="gdlr-core-html-option-font-upload-title">'+html_option_val.fontupload.font_name+'</div>\t\t\t\t\t<input class="gdlr-core-html-option-font-upload-title gdlr-core-html-option-text" placeholder="'+html_option_val.fontupload.font_name_p+'" data-fontupload-slug="name" />\t\t\t\t</div>\t\t\t\t<div class="gdlr-core-html-option-font-upload-field" >\t\t\t\t\t<div class="gdlr-core-html-option-font-upload-title">'+html_option_val.fontupload.eot+'</div>\t\t\t\t\t<input class="gdlr-core-html-option-font-upload-title gdlr-core-html-option-text" data-fontupload-slug="eot" />\t\t\t\t\t<div class="gdlr-core-html-option-font-upload-button">'+html_option_val.fontupload.button+'</div>\t\t\t\t</div>\t\t\t\t<div class="gdlr-core-html-option-font-upload-field" >\t\t\t\t\t<div class="gdlr-core-html-option-font-upload-title">'+html_option_val.fontupload.ttf+'</div>\t\t\t\t\t<input class="gdlr-core-html-option-font-upload-title gdlr-core-html-option-text" data-fontupload-slug="ttf" />\t\t\t\t\t<div class="gdlr-core-html-option-font-upload-button">'+html_option_val.fontupload.button+"</div>\t\t\t\t</div>\t\t\t</div>"),this.init()};c.prototype={init:function(){var t=this;if(t.container.closest(".gdlr-core-html-option-item-input").siblings(".gdlr-core-html-option-item-title").append(t.add_button),t.container.append(t.font_container),t.font_container.append(t.font_none),t.values&&t.values.length>0){t.font_none.css("display","none");for(var i in t.values)this.font_container.append(this.get_template(t.values[i]))}t.bind_add(),t.bind_remove(),t.font_container.on("change","input[data-fontupload-slug]",function(){t.update_data()})},bind_add:function(){var t=this;t.add_button.click(function(){var i=t.get_template();t.font_none.slideUp(200),t.font_container.append(i),i.css("display","none").slideDown(200),t.update_data()})},bind_remove:function(){var i=this;i.font_container.on("click",".gdlr-core-html-option-font-upload-remove",function(){(!i.values||i.values.length<=1)&&i.font_none.slideDown(200),t(this).closest(".gdlr-core-html-option-font-upload-template").slideUp(200,function(){t(this).remove(),i.update_data()})})},get_template:function(i){var a=this.template.clone();for(var e in i)a.find('[data-fontupload-slug="'+e+'"]').val(i[e]);return a.find(".gdlr-core-html-option-font-upload-button").click(function(){var i=t(this).siblings(".gdlr-core-html-option-font-upload-title"),a=wp.media({title:html_option_val.text.upload_media,button:{text:html_option_val.text.choose_media},multiple:!1}).on("select",function(){var t=a.state().get("selection").first().toJSON();i.val(t.url).trigger("change")}).open()}),a},update_data:function(){var i=this;i.values=[],i.font_container.find(".gdlr-core-html-option-font-upload-template").each(function(){var a={};t(this).find("[data-fontupload-slug]").each(function(){a[t(this).attr("data-fontupload-slug")]=t(this).val()}),i.values.push(a)}),i.container.data("value",i.values)}}}(jQuery);